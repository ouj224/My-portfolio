<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>ABOUT</title>
  <link href="style.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="header-container">
      <div class="logo"><a href="index.html">MY PORTFOLIO</a></div>
      <nav>
        <ul>
          <li><a href="about.html" class="active"><img src="images/icon_about.png" alt="about" class="menu-icon"> ABOUT</a></li>
          <li><a href="resume.html"><img src="images/icon_resume.png" alt="resume" class="menu-icon"> RESUME</a></li>
          <li><a href="project.html"><img src="images/icon_project.png" alt="project" class="menu-icon"> PROJECT</a></li>
          <li><a href="library.html"><img src="images/icon_library.png" alt="library" class="menu-icon"> LIBRARY</a></li>
          <li><a href="contact.html"><img src="images/icon_contact.png" alt="contact" class="menu-icon"> CONTACT</a></li>
          <li><a href="board.html"><img src="images/icon_board.png" alt="board" class="menu-icon"> BOARD</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="sub-banner"><h2>ABOUT ME</h2></div>

  <div class="container">
    <div class="content-header">
      <h3>자기소개서</h3>
      <p style="color:#666;">프로필 사진을 클릭하여 변경할 수 있습니다.</p>
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; margin-bottom: 30px;">
        <label for="profileInput" style="cursor: pointer;" title="사진 변경하려면 클릭">
            <img id="profileImg" src="images/icon_porfile.png" alt="증명사진" 
                 style="width: 150px; height: 150px; object-fit: cover; border-radius: 50%; border: 3px solid #004098; background-color: #f0f0f0;">
        </label>
        <input type="file" id="profileInput" accept="image/*" style="display: none;" onchange="changeProfile(this)">
        <p style="font-size: 0.9rem; color: #888; margin-top: 10px;">* 클릭하여 사진 변경</p>
    </div>

    <textarea id="aboutContent" class="resume-editor" placeholder="여기에 자기소개를 작성하세요..."></textarea>
    
    <div style="text-align: right; margin-top: 20px;">
        <button onclick="saveAbout()" class="btn-upload">내용 저장하기</button>
    </div>
  </div>

  <footer>
    <div class="footer-content"><p>Copyright © 2025 All Rights Reserved.</p></div>
  </footer>

  <script src="script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
        // 내용 불러오기
        const savedAbout = localStorage.getItem('myAbout');
        if(savedAbout) document.getElementById('aboutContent').value = savedAbout;
        // 사진 불러오기
        const savedProfile = localStorage.getItem('myProfileImg');
        if(savedProfile) document.getElementById('profileImg').src = savedProfile;
    });

    function saveAbout() {
        const content = document.getElementById('aboutContent').value;
        localStorage.setItem('myAbout', content); 
        alert('자기소개 내용이 저장되었습니다.');
    }

    function changeProfile(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profileImg').src = e.target.result;
                localStorage.setItem('myProfileImg', e.target.result); // Base64로 로컬저장
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
  </script>
</body>
</html>